<!-- Root container -->
<div class="flex flex-col sm:flex-row h-screen bg-gray-50 overflow-hidden">

  <!-- Sidebar: Hidden on mobile, visible on desktop -->
  <aside
    class="hidden sm:flex sm:flex-row h-full z-50 border-r border-gray-200 bg-white transition-width duration-300 ease-in-out"
    [class.w-20]="!isSidebarExpanded" [class.w-72]="isSidebarExpanded">
    <!-- Sidebar content -->
    <app-sidebar (expand)="onSidebarExpand($event)"></app-sidebar>
  </aside>

  <!-- Main container for Header + Content + Footer -->
  <div class="flex-1 flex flex-col overflow-hidden">

    <!-- Content: Scrolls with header on mobile, independent on desktop -->
    <div class="flex-1 flex py-5 overflow-auto">
      <main class="px-4 sm:px-6 lg:px-8 w-full">
        <router-outlet></router-outlet>
        <div class="spacer pb-5"></div>
      </main>
    </div>

  </div>
  <!-- Footer: Always visible at the bottom on mobile, hidden on desktop -->
  <footer class="bg-white sm:hidden border-t border-gray-200 h-16">
    <!-- Footer content -->
    <app-mobile-nav></app-mobile-nav>
  </footer>

</div>